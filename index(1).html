<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 모드</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h2>길드 순위 설정</h2>
        <div>
            <h3>레벨 순위표</h3>
            <input type="text" id="nickname" placeholder="닉네임">
            <input type="number" id="level" placeholder="레벨">
            <button onclick="addMember()">추가하기</button>
            <div id="levelRanking"></div>
        </div>
        <div>
            <h3>유니온 레이드 딜량 순위표</h3>
            <input type="text" id="raidNickname" placeholder="닉네임">
            <input type="number" id="damage1" placeholder="첫 번째 딜량">
            <input type="number" id="damage2" placeholder="두 번째 딜량">
            <input type="number" id="damage3" placeholder="세 번째 딜량">
            <button onclick="addRaidResult()">추가하기</button>
            <div id="damageRanking"></div>
        </div>
    </div>

    <script>
        let members = JSON.parse(localStorage.getItem('members')) || [];
        let raidResults = JSON.parse(localStorage.getItem('raidResults')) || [];

        function addMember() {
            const nickname = document.getElementById('nickname').value;
            const level = parseInt(document.getElementById('level').value);

            if (nickname && !isNaN(level)) {
                members.push({ nickname, level });
                members.sort((a, b) => b.level - a.level);
                localStorage.setItem('members', JSON.stringify(members));
                displayLevelRanking();
            }
        }

        function displayLevelRanking() {
            const levelRankingDiv = document.getElementById('levelRanking');
            levelRankingDiv.innerHTML = '<h4>레벨 순위표</h4>';
            members.forEach((member, index) => {
                levelRankingDiv.innerHTML += `<p>${index + 1}. ${member.nickname} - ${member.level}</p>`;
            });
        }

        function addRaidResult() {
            const nickname = document.getElementById('raidNickname').value;
            const damage1 = parseInt(document.getElementById('damage1').value);
            const damage2 = parseInt(document.getElementById('damage2').value);
            const damage3 = parseInt(document.getElementById('damage3').value);

            if (nickname && !isNaN(damage1) && !isNaN(damage2) && !isNaN(damage3)) {
                const totalDamage = damage1 + damage2 + damage3;
                raidResults.push({ nickname, totalDamage });
                raidResults.sort((a, b) => b.totalDamage - a.totalDamage);
                localStorage.setItem('raidResults', JSON.stringify(raidResults));
                displayRaidRanking();
            }
        }

        function displayRaidRanking() {
            const damageRankingDiv = document.getElementById('damageRanking');
            damageRankingDiv.innerHTML = '<h4>딜량 순위표</h4>';
            raidResults.forEach((result, index) => {
                damageRankingDiv.innerHTML += `<p>${index + 1}. ${result.nickname} - ${result.totalDamage}</p>`;
            });
        }

        // Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyACUArK_eDnE5JuTZj0fBjrFPAQwE5bAXA",
  authDomain: "jonmatunionraid.firebaseapp.com",
  projectId: "jonmatunionraid",
  storageBucket: "jonmatunionraid.appspot.com",
  messagingSenderId: "700853521754",
  appId: "1:700853521754:web:282eb48ba20b5055127763",
  measurementId: "G-WMNJX2SR9W"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

        // 페이지 로드 시 기존 데이터 표시
        displayLevelRanking();
        displayRaidRanking();
    </script>
</body>
</html>
